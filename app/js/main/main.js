document.addEventListener("DOMContentLoaded",(function(){function e(e){"checkbox"===e.type&&e.required?e.checked?$(e).removeClass("_required"):$(e).addClass("_required"):e.required&&$(e).removeClass("_required")}if($('.js-form button[type="submit"]').click((function(e){$(this).parents("form").find(":input[name]").each((function(e,i){this.required&&("checkbox"===i.type&&!i.checked||0===i.value.length)&&($(i).focus((function(){$(this).removeClass("_required")})),$(i).addClass("_required"))}))})),$(".form__field").click((function(){e(this)})),$(".form__field").focus((function(){e(this)})),$(".form__checkbox input[type=checkbox]").change((function(){e(this)})),$(".form__field").focusout((function(){this.required&&0===this.value.length&&$(this).addClass("_required"),"email"===this.type&&(this.required&&0===this.value.length||!this.validity.valid)&&$(this).addClass("_required")})),$(".js-form").submit((function(){const e=$(this);e.find("button").prop("disabled",!0),e.find(".form__message").fadeIn(350);var i=new FormData;return e.find(":input[name]").each((function(e,t){var s=$(this);s.val()&&i.append(s.attr("name"),s.val())})),$.ajax({url:"form/form.php",type:"POST",data:i,contentType:!1,cache:!1,processData:!1,success:function(i){e.find(".form__loading").hide(),e.find(".form__success").show(),e.trigger("reset"),$(".form__field").removeClass("_required"),setTimeout((function(){e.find(".form__message").fadeOut()}),3500),e.find("button").prop("disabled",!1)},error:function(i,t,s){e.find(".form__loading").hide(),e.find(".form__error").show(),setTimeout((function(){e.find(".form__message").fadeOut()}),3500),e.find("button").prop("disabled",!1)}}),!1})),$(".quiz-form").submit((function(){let e=new FormData;const i=$(this);let t="";return e.append("type",$(".price-quiz__types li.active").text()),i.find(":input[name]").each((function(){var i=$(this);i.val()&&e.append(i.attr("name"),i.val())})),$(".price-quiz__questions.active .price-quiz__question:not(.disabled) input:checked").each((function(){let e=$(this);t+=$.trim(e.siblings("label").find("span.name").text())+", "})),e.append("details",t),e.append("result",$.trim($("#quizResult").text())),$(this).hasClass("pdf-form")?$.ajax({url:"form/pdf.php",type:"POST",data:e,contentType:!1,cache:!1,processData:!1,success:function(e){console.log(e)},error:function(e,i,t){console.log(e)}}):$.ajax({url:"form/quiz.php",type:"POST",data:e,contentType:!1,cache:!1,processData:!1,success:function(e){i.find(".form__loading").hide(),i.find(".form__success").show(),i.trigger("reset"),$(".form__field").removeClass("_required"),setTimeout((function(){i.find(".form__message").fadeOut()}),3500),i.find("button").prop("disabled",!1)},error:function(e,t,s){i.find(".form__loading").hide(),i.find(".form__error").show(),setTimeout((function(){i.find(".form__message").fadeOut()}),3500),i.find("button").prop("disabled",!1)}}),!1})),"loading"in HTMLImageElement.prototype){document.querySelectorAll("img.lazy").forEach(e=>{e.src=e.dataset.src})}else{(new LazyLoad).update()}function i(){window.matchMedia("(min-width: 1260px)").matches&&$(".tooltip-trigger").mouseover((function(){$(this).siblings().find(".tooltip").fadeOut(),$(this).find(".tooltip").fadeIn()}))}$(".scroll, .menu-modal li:not(.has-children) > a[href^='#'], .header__menu li:not(.has-children) > a[href^='#']").click((function(){var e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top+parseInt($(e).css("padding-top"))-20+"px"}),!1})),i(),$(window).resize(i),$(".menu-toggle").click((function(){$(this).toggleClass("menu-toggle--open"),$("header.header, html").toggleClass("opened"),$("#menu-modal").fadeToggle(400)})),$(".menu-modal li:not(.has-children) > a").click((function(){$("#menu-modal").fadeOut(400),$(".menu-toggle").removeClass("menu-toggle--open")})),$(".menu-modal li.has-children > a").click((function(e){e.preventDefault(),$(this).siblings("ul").slideToggle()})),$("header.header li.has-children > a").click((function(e){e.preventDefault()})),$("[data-popup-link], .popup-link").click((function(e){let i;e.preventDefault(),i="A"===$(this).prop("tagName")?$($(this).attr("href")):$($(this).data("popup-link")),i.css("display","flex").hide().fadeIn()})),$(".popup__close").click((function(){var e;e=$(this).closest(".popup"),$(e).fadeOut(),$(e).find("iframe").length&&setTimeout((function(){const i=$(e).find("iframe").attr("src");$(e).find("iframe").attr("src",i)}),150)})),$(".questions-item__header").on("click",(function(){"accordion"===$(this).parents(".questions").data("questions")?($(this).parent().siblings().children(".questions-item__body").slideUp(250),$(this).parent().siblings().children(".questions-item__header").removeClass("_active"),$(this).next().slideToggle(250),$(this).toggleClass("_active")):($(this).next().slideToggle(250),$(this).toggleClass("_active"))})),$(".price-quiz__types li").click((function(){$(this).addClass("active").siblings(".active").removeClass("active"),$(".price-quiz__questions").eq($(this).index()).addClass("active").siblings(".active").removeClass("active")})),$(".price-quiz__question input[type=radio], .price-quiz__question input[type=checkbox]").change((function(){if($(this).closest(".price-quiz__question").data("quiz-number")){const e=$(this).closest(".price-quiz__question").data("quiz-number"),i=$(this).closest(".price-quiz__radio, .price-quiz__image").index()+1;$(".price-quiz__question[data-quiz-depends-question="+e+"]").each((function(){let t,s=$(this).data("quiz-number");$(this).addClass("disabled"),e&&$(this).closest(".price-quiz__questions").find(".price-quiz__question[data-quiz-depends-question="+s+"]").addClass("disabled"),t=$(this).data("quiz-depends-options")>0?[parseInt($(this).data("quiz-depends-options"))]:$(this).data("quiz-depends-options").split(",").map(e=>parseInt(e)),-1!=t.indexOf(i)&&($(this).removeClass("disabled"),e&&$(this).closest(".price-quiz__questions").find(".price-quiz__question[data-quiz-depends-question="+s+"]").removeClass("disabled"))}))}})),$(".quizSlide").click((function(){const e=$(this).closest(".price-quiz__question").index(),i=$(this).closest(".price-quiz__questions");let t=e;do{$(this).hasClass("quizPrev")?t--:$(this).hasClass("quizNext")&&t++}while(i.find(".price-quiz__question").eq(t).hasClass("disabled"));i.find(".price-quiz__question").eq(t).addClass("active").siblings(".active").removeClass("active")})),$(".quizFinish").click((function(){const e=$(this).closest(".price-quiz__questions");let i=0;"%"===e.find("input[data-quiz-system]:checked").data("quiz-system")&&(i=1,$("#quizResult").find("i").html("%"));let t=parseFloat(e.find("input[data-quiz-start]:checked").data("quiz-start").split(":")[i]);e.find(".price-quiz__question:not(.disabled) input[data-quiz-value]:checked").each((function(){t+=parseFloat($(this).data("quiz-value").split(":")[i])})),$("#quizResult").attr("data-quiz-result",t).find("span").html(t.toLocaleString()),$(this).closest(".price-quiz__question").removeClass("active"),$(".price-quiz__result").show()})),$("input[name=quiz_discount]").change((function(){const e=parseFloat($("p[data-quiz-result]").data("quiz-result")),i=(100-parseFloat($(this).data("quiz-discount")))*e/100;$("p[data-quiz-result] span").html(i.toLocaleString())})),function e(){document.querySelectorAll(".slider").forEach(e=>{const i=e.querySelector(".slider-init");let t={slidesPerView:1,spaceBetween:25,watchOverflow:!0,simulateTouch:!1,breakpoints:{1024:{slidesPerView:2,spaceBetween:20}},navigation:{nextEl:e.querySelector(".slider-button-next"),prevEl:e.querySelector(".slider-button-prev")},pagination:{el:e.querySelector(".slider-pagination"),type:"bullets",clickable:!0},lazy:{loadPrevNext:!0,loadPrevNextAmount:2}};if(e.dataset.config){let i=e.dataset.config.split(",");s="grid",n=()=>{t.slidesPerColumn=2,t.slidesPerColumnFill="row"},i.find(e=>e.trim()==s)&&n()}var s,n;i.swiper&&(i.querySelector(".swiper-wrapper").removeAttribute("style"),i.querySelectorAll(".swiper-slide").forEach(e=>e.removeAttribute("style")),i.swiper.detachEvents(),i.swiper.destroy()),new Swiper(i,t)}),window.addEventListener("resize",e)}(),$(window).scroll((function(){$(this).scrollTop()>200&&window.matchMedia("(min-width: 1260px)").matches?$("header.header").addClass("header--fixed container"):$("header.header").removeClass("header--fixed container")}));new Swiper(".reviews__slider",{slidesPerView:1.2,spaceBetween:20,watchOverflow:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3},1440:{slidesPerView:3,slidesPerGroup:2.5,spaceBetween:40,pagination:!1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}}}}),new Swiper(".brands__slider",{slidesPerView:2.2,spaceBetween:20,watchOverflow:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:2.5},1260:{slidesPerView:3},1440:{slidesPerView:3,slidesPerGroup:3,loopedSlides:50,loopFillGroupWithBlank:!0,loop:!0,spaceBetween:40,pagination:!1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}}}});function t(){if(window.matchMedia("(min-width: 1260px)").matches){new Swiper(".reviews-filter__slider",{slidesPerView:6.5,spaceBetween:20,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}})}}document.getElementById("map")&&setTimeout((function(){ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.751898,37.585799],zoom:16,controls:["zoomControl"]},{searchControlProvider:"yandex#search"}),i=new ymaps.Placemark([55.751898,37.585799],{},{iconLayout:"default#imageWithContent",iconImageHref:"images/map/geo.png",iconImageSize:[42,54],iconImageOffset:[-21,-54]});e.geoObjects.add(i)}))}),1e3),$(".reviews-filter__item").click((function(){$(this).closest(".reviews-filter__container").find(".reviews-filter__item.active").removeClass("active"),$(this).addClass("active")})),t(),$(window).resize(t);new Swiper(".reviews-reviews__slider",{slidesPerView:1.2,spaceBetween:20,watchOverflow:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3},1440:{enabled:!1}}});setTimeout((function(){}),1e3),(new WOW).init()}));